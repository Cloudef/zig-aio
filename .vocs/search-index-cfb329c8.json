{"documentCount":59,"nextId":59,"documentIds":{"0":"pages/aio-dynamic.mdx#aio-api","1":"pages/aio-dynamic.mdx#dynamic-io","2":"pages/aio-dynamic.mdx#initializing-dynamic-instance","3":"pages/aio-dynamic.mdx#queuing-operations","4":"pages/aio-dynamic.mdx#completing-operations","5":"pages/aio-dynamic.mdx#completition-callback","6":"pages/aio-immediate.mdx#aio-api","7":"pages/aio-immediate.mdx#immediate-io","8":"pages/aio-immediate.mdx#perform-a-single-operation","9":"pages/aio-immediate.mdx#perform-multiple-operations","10":"pages/aio-immediate.mdx#using-multi","11":"pages/aio-immediate.mdx#using-complete","12":"pages/aio-operations.mdx#aio-api","13":"pages/aio-operations.mdx#operations","14":"pages/aio-operations.mdx#common-fields","15":"pages/aio-operations.mdx#fsync","16":"pages/aio-operations.mdx#read","17":"pages/aio-operations.mdx#write","18":"pages/aio-operations.mdx#accept","19":"pages/aio-operations.mdx#connect","20":"pages/aio-operations.mdx#recv","21":"pages/aio-operations.mdx#send","22":"pages/aio-operations.mdx#openat","23":"pages/aio-operations.mdx#closefile","24":"pages/aio-operations.mdx#closedir","25":"pages/aio-operations.mdx#timeout","26":"pages/aio-operations.mdx#linktimeout","27":"pages/aio-operations.mdx#cancel","28":"pages/aio-operations.mdx#renameat","29":"pages/aio-operations.mdx#unlinkat","30":"pages/aio-operations.mdx#mkdirat","31":"pages/aio-operations.mdx#symlinkat","32":"pages/aio-operations.mdx#childexit","33":"pages/aio-operations.mdx#socket","34":"pages/aio-operations.mdx#closesocket","35":"pages/coro-blocking-code.mdx#coro-api","36":"pages/coro-blocking-code.mdx#mixing-blocking-code","37":"pages/coro-blocking-code.mdx#example","38":"pages/coro-context-switches.mdx#coro-api","39":"pages/coro-context-switches.mdx#paired-context-switches","40":"pages/coro-context-switches.mdx#canceling-io","41":"pages/coro-context-switches.mdx#unpaired-wakeup","42":"pages/coro-io.mdx#coro-api","43":"pages/coro-io.mdx#io","44":"pages/coro-io.mdx#performing-io-operations","45":"pages/coro-io.mdx#cancellations","46":"pages/coro-scheduler.mdx#coro-api","47":"pages/coro-scheduler.mdx#scheduler","48":"pages/coro-scheduler.mdx#initializing-scheduler-instance","49":"pages/coro-scheduler.mdx#spawning-tasks","50":"pages/coro-scheduler.mdx#reaping-tasks","51":"pages/coro-scheduler.mdx#running","52":"pages/#overview","53":"pages/#features","54":"pages/integration.mdx#integrating-zig-aio","55":"pages/integration.mdx#zig-package-manager","56":"pages/integration.mdx#fetching-and-updating-the-zig-aio-dependency","57":"pages/integration.mdx#using-zig-aio-modules-in-zig-project","58":"pages/integration.mdx#using-zig-aio-in-zig-code"},"fieldIds":{"title":0,"titles":1,"text":2},"fieldLength":{"0":[2,1,1],"1":[2,2,19],"2":[3,4,42],"3":[2,4,38],"4":[2,4,62],"5":[2,4,37],"6":[2,1,1],"7":[2,2,13],"8":[4,4,31],"9":[3,4,10],"10":[2,7,71],"11":[2,7,85],"12":[2,1,1],"13":[1,2,21],"14":[2,3,83],"15":[1,3,12],"16":[1,3,29],"17":[1,3,32],"18":[1,3,17],"19":[1,3,13],"20":[1,3,14],"21":[1,3,17],"22":[1,3,30],"23":[1,3,7],"24":[1,3,7],"25":[1,3,16],"26":[1,3,26],"27":[1,3,8],"28":[1,3,16],"29":[1,3,18],"30":[1,3,28],"31":[1,3,19],"32":[1,3,20],"33":[1,3,16],"34":[1,3,7],"35":[2,1,1],"36":[3,2,36],"37":[1,5,41],"38":[2,1,1],"39":[3,2,71],"40":[2,2,36],"41":[2,2,29],"42":[2,1,1],"43":[1,2,71],"44":[3,3,175],"45":[1,3,42],"46":[2,1,1],"47":[1,2,33],"48":[3,3,27],"49":[2,3,85],"50":[2,3,42],"51":[1,3,60],"52":[1,1,60],"53":[1,1,23],"54":[3,1,1],"55":[3,3,1],"56":[7,6,18],"57":[6,6,32],"58":[5,6,16]},"averageFieldLength":[1.8983050847457628,2.9322033898305087,30],"storedFields":{"0":{"href":"/aio-dynamic#aio-api","html":"</header>\n","isPage":true,"text":"\n","title":"AIO API","titles":[]},"1":{"href":"/aio-dynamic#dynamic-io","html":"\n<p>In case the amount of IO operations isn&#x27;t known ahead of time the dynamic api can be used.</p>\n","isPage":false,"text":"\nIn case the amount of IO operations isn&#x27;t known ahead of time the dynamic api can be used.\n","title":"Dynamic IO","titles":["AIO API"]},"2":{"href":"/aio-dynamic#initializing-dynamic-instance","html":"\n<p>Creating a Dynamic instance requires an allocator and upper bound for non-completed operations.\nThe instance allocates only during the <code>init</code>, and frees the memory during <code>deinit</code>.\nSame allocator must be used in <code>deinit</code> that was used in <code>init</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> max_operations</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 32</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> Dynamic</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">init</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">heap</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">page_allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">max_operations</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">heap</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">page_allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n","isPage":false,"text":"\nCreating a Dynamic instance requires an allocator and upper bound for non-completed operations.\nThe instance allocates only during the init, and frees the memory during deinit.\nSame allocator must be used in deinit that was used in init.\nconst max_operations = 32;\nvar work = try Dynamic.init(std.heap.page_allocator, max_operations);\ndefer work.deinit(std.heap.page_allocator);\n","title":"Initializing Dynamic instance","titles":["AIO API","Dynamic IO"]},"3":{"href":"/aio-dynamic#queuing-operations","html":"\n<p>It is possible to queue either single or multiple operations just like with the immediate api.\nThe call to queue is atomic, if the call fails, none of the operations will be actually queued.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// Multiple operations</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">queue</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{...},</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Write</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{...},</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Fsync</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{...},</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">});</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// Single operation</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">queue</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Timeout</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{...});</span></span></code></pre>\n","isPage":false,"text":"\nIt is possible to queue either single or multiple operations just like with the immediate api.\nThe call to queue is atomic, if the call fails, none of the operations will be actually queued.\n// Multiple operations\ntry work.queue(.{\n    aio.Read{...},\n    aio.Write{...},\n    aio.Fsync{...},\n});\n \n// Single operation\ntry work.queue(aio.Timeout{...});\n","title":"Queuing operations","titles":["AIO API","Dynamic IO"]},"4":{"href":"/aio-dynamic#completing-operations","html":"\n<p>It is possible to complete the operations either in blocking or non-blocking fashion.\nThe blocking mode will wait for at least one operation to complete.\nThe non-blocking always returns immediately even if no operations were completed.\nThe call to complete returns <code>aio.CompletionResult</code> containing the number of operations that were completed\nand the number of errors that occured.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// blocks until at least 1 operation completes</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> res</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">complete</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">blocking</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// returns immediately</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> res</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">complete</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">nonblocking</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>To complete all operations within the dynamic instance, use <code>completeAll</code>.\nThis blocks until all the operations are complete and returns the number of errors, if any.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> num_errors</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> work</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">completeAll</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span></code></pre>\n","isPage":false,"text":"\nIt is possible to complete the operations either in blocking or non-blocking fashion.\nThe blocking mode will wait for at least one operation to complete.\nThe non-blocking always returns immediately even if no operations were completed.\nThe call to complete returns aio.CompletionResult containing the number of operations that were completed\nand the number of errors that occured.\n// blocks until at least 1 operation completes\nconst res = try work.complete(.blocking);\n// returns immediately\nconst res = try work.complete(.nonblocking);\nTo complete all operations within the dynamic instance, use completeAll.\nThis blocks until all the operations are complete and returns the number of errors, if any.\nconst num_errors = try work.completeAll();\n","title":"Completing operations","titles":["AIO API","Dynamic IO"]},"5":{"href":"/aio-dynamic#completition-callback","html":"\n<p>If callbacks for completions are required then it is possible to set the <code>callback</code> field of <code>aio.Dynamic</code>\nto a function of prototype <code>fn (uop: *Uop) void</code>. This is for example used by the <code>coro.Scheduler</code> to link\nIO operations into tasks.</p>","isPage":false,"text":"\nIf callbacks for completions are required then it is possible to set the callback field of aio.Dynamic\nto a function of prototype fn (uop: *Uop) void. This is for example used by the coro.Scheduler to link\nIO operations into tasks.","title":"Completition callback","titles":["AIO API","Dynamic IO"]},"6":{"href":"/aio-immediate#aio-api","html":"</header>\n","isPage":true,"text":"\n","title":"AIO API","titles":[]},"7":{"href":"/aio-immediate#immediate-io","html":"\n<p>For immediate blocking IO, <code>zig-aio</code> provides the following functions in the <code>aio</code> module.</p>\n","isPage":false,"text":"\nFor immediate blocking IO, zig-aio provides the following functions in the aio module.\n","title":"Immediate IO","titles":["AIO API"]},"8":{"href":"/aio-immediate#perform-a-single-operation","html":"\n<p>Completes a single operation, the call blocks until it&#x27;s complete.\nReturns error of the operation if the operation failed.\nReturns <code>void</code> if there was no error.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Write</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;contents&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">});</span></span></code></pre>\n","isPage":false,"text":"\nCompletes a single operation, the call blocks until it&#x27;s complete.\nReturns error of the operation if the operation failed.\nReturns void if there was no error.\ntry aio.single(aio.Write{.file = f, .buffer = &quot;contents&quot;});\n","title":"Perform a single operation","titles":["AIO API","Immediate IO"]},"9":{"href":"/aio-immediate#perform-multiple-operations","html":"\n<p><code>zig-aio</code> provides two methods for batching IO operations.</p>\n","isPage":false,"text":"\nzig-aio provides two methods for batching IO operations.\n","title":"Perform multiple operations","titles":["AIO API","Immediate IO"]},"10":{"href":"/aio-immediate#using-multi","html":"\n<p>Completes a list of operations immediately, blocks until complete.\nReturns <code>error.SomeOperationFailed</code> if any operation failed.\nReturns <code>void</code> if there were no errors.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> my_buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1024</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> my_len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">multi</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Write</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;contents&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">},</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">my_buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">my_len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">},</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">});</span></span></code></pre>\n<p>The <code>.link</code> field of operation can be used to link the operation to the next operation.\nWhen linking operations, the next operation won&#x27;t start until this operation is complete.</p>\n<p><code>soft</code> link will propagate failure to next operations in the link chain.\n<code>hard</code> link will not propagate failure, and the next operation starts normally.</p>\n","isPage":false,"text":"\nCompletes a list of operations immediately, blocks until complete.\nReturns error.SomeOperationFailed if any operation failed.\nReturns void if there were no errors.\nvar my_buffer: [1024]u8 = undefined;\nvar my_len: usize = undefined;\n \ntry aio.multi(.{\n    aio.Write{.file = f, .buffer = &quot;contents&quot;, .link = .soft},\n    aio.Read{.file = f, .buffer = &amp;my_buffer, .out_read = &amp;my_len},\n});\nThe .link field of operation can be used to link the operation to the next operation.\nWhen linking operations, the next operation won&#x27;t start until this operation is complete.\nsoft link will propagate failure to next operations in the link chain.\nhard link will not propagate failure, and the next operation starts normally.\n","title":"Using multi","titles":["AIO API","Immediate IO","Perform multiple operations"]},"11":{"href":"/aio-immediate#using-complete","html":"\n<p>Complete is similar to multi, but it will not return <code>error.SomeOperationFailed</code> in case any of the operations fail.\nInstead complete returns the number of errors occured. To find out which operations failed, errors have to be stored\nsomewhere by setting the <code>.out_error</code> field of the operation. The complete call may still fail in implementation\ndefined ways, such as running out of system resources.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> my_buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1024</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> my_len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> write_error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">WriteError</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> read_error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">ReadError</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> res</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">complete</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Write</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;contents&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_error</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">write_error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">},</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">my_buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_error</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">read_error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">my_len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">},</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">});</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">if</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">res</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">num_errors</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &gt;</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    if</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">write_error</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> !=</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Success</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">@panic</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;write failed&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    if</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">read_error</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> !=</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Success</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">@panic</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;read failed&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span></code></pre>","isPage":false,"text":"\nComplete is similar to multi, but it will not return error.SomeOperationFailed in case any of the operations fail.\nInstead complete returns the number of errors occured. To find out which operations failed, errors have to be stored\nsomewhere by setting the .out_error field of the operation. The complete call may still fail in implementation\ndefined ways, such as running out of system resources.\nvar my_buffer: [1024]u8 = undefined;\nvar my_len: usize = undefined;\nvar write_error: std.posix.WriteError = undefined;\nvar read_error: std.posix.ReadError = undefined;\n \nconst res = try aio.complete(.{\n    aio.Write{.file = f, .buffer = &quot;contents&quot;, .out_error = &amp;write_error, .link = .soft},\n    aio.Read{.file = f, .buffer = &amp;my_buffer, .out_error = &amp;read_error, .out_read = &amp;my_len},\n});\n \nif (res.num_errors &gt; 0) {\n    if (write_error != error.Success) @panic(&quot;write failed&quot;);\n    if (read_error != error.Success) @panic(&quot;read failed&quot;);\n}","title":"Using complete","titles":["AIO API","Immediate IO","Perform multiple operations"]},"12":{"href":"/aio-operations#aio-api","html":"</header>\n","isPage":true,"text":"\n","title":"AIO API","titles":[]},"13":{"href":"/aio-operations#operations","html":"\n<p>A handful of IO operations are supported.\nAll the pointer arguments in operations must remain stable until the operation has been completed.</p>\n","isPage":false,"text":"\nA handful of IO operations are supported.\nAll the pointer arguments in operations must remain stable until the operation has been completed.\n","title":"Operations","titles":["AIO API"]},"14":{"href":"/aio-operations#common-fields","html":"\n<p>Every operation supports these common fields.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_id</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Id</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_error</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Operation</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Error</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">link_next</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">bool</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> false</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">userdata</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n<p>If <code>out_id</code> is set, the id of the operation will be stored into that address immediately after sucessful queue.\nThe <code>id</code> can then be used in future operations to refer to this operation.</p>\n<p>If <code>out_error</code> is set, the error of the operation will be stored into that address, in case the operation failed.\nIf there was no failure a <code>error.Success</code> will be stored in that address.</p>\n<p><code>link</code> can be used to link the next operation into this operation.\nWhen operations are linked, the next operation won&#x27;t start until this operation has completed first.\n<code>soft</code> link will propagate failure to next operations in the link chain.\n<code>hard</code> link will not propagate failure, and the next operation starts normally.</p>\n<p><code>userdata</code> is not interpreted or modified any way, it can be used to link the operations to application specific context.</p>\n","isPage":false,"text":"\nEvery operation supports these common fields.\nout_id: ?*Id = null,\nout_error: ?*Operation.Error = null,\nlink_next: bool = false,\nuserdata: usize = 0,\nIf out_id is set, the id of the operation will be stored into that address immediately after sucessful queue.\nThe id can then be used in future operations to refer to this operation.\nIf out_error is set, the error of the operation will be stored into that address, in case the operation failed.\nIf there was no failure a error.Success will be stored in that address.\nlink can be used to link the next operation into this operation.\nWhen operations are linked, the next operation won&#x27;t start until this operation has completed first.\nsoft link will propagate failure to next operations in the link chain.\nhard link will not propagate failure, and the next operation starts normally.\nuserdata is not interpreted or modified any way, it can be used to link the operations to application specific context.\n","title":"Common fields","titles":["AIO API","Operations"]},"15":{"href":"/aio-operations#fsync","html":"\n<p>Synchronizes the contents of a <code>file</code> onto the disk.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSynchronizes the contents of a file onto the disk.\nfile: std.fs.File,\n","title":"Fsync","titles":["AIO API","Operations"]},"16":{"href":"/aio-operations#read","html":"\n<p>Reads a <code>file</code> into a <code>buffer</code> from a <code>offset</code>.\nThe amount of bytes read is stored in the location pointed by <code>out_read</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: []</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">offset</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u64</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*usize</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nReads a file into a buffer from a offset.\nThe amount of bytes read is stored in the location pointed by out_read.\nfile: std.fs.File,\nbuffer: []u8,\noffset: u64 = 0,\nout_read: *usize,\n","title":"Read","titles":["AIO API","Operations"]},"17":{"href":"/aio-operations#write","html":"\n<p>Writes contents of <code>buffer</code> from <code>offset</code> into a <code>file</code>.\nThe amount of bytes written is stored in the location pointed by <code>out_written</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: []</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">offset</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u64</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_written</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nWrites contents of buffer from offset into a file.\nThe amount of bytes written is stored in the location pointed by out_written.\nfile: std.fs.File,\nbuffer: []const u8,\noffset: u64 = 0,\nout_written: ?*usize = null,\n","title":"Write","titles":["AIO API","Operations"]},"18":{"href":"/aio-operations#accept","html":"\n<p>See <code>man accept(2)</code></p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">addr</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">sockaddr</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">inout_addrlen</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socklen_t</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSee man accept(2)\nsocket: std.posix.socket_t,\naddr: ?*std.posix.sockaddr = null,\ninout_addrlen: ?*std.posix.socklen_t = null,\nout_socket: *std.posix.socket_t,\n","title":"Accept","titles":["AIO API","Operations"]},"19":{"href":"/aio-operations#connect","html":"\n<p>See <code>man connect(2)</code></p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">addr</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">sockaddr</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">addrlen</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socklen_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSee man connect(2)\nsocket: std.posix.socket_t,\naddr: *std.posix.sockaddr,\naddrlen: std.posix.socklen_t,\n","title":"Connect","titles":["AIO API","Operations"]},"20":{"href":"/aio-operations#recv","html":"\n<p>See <code>man recv(2)</code></p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: []</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*usize</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSee man recv(2)\nsocket: std.posix.socket_t,\nbuffer: []u8,\nout_read: *usize,\n","title":"Recv","titles":["AIO API","Operations"]},"21":{"href":"/aio-operations#send","html":"\n<p>See <code>man send(2)</code></p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: []</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_written</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSee man send(2)\nsocket: std.posix.socket_t,\nbuffer: []const u8,\nout_written: ?*usize = null,\n","title":"Send","titles":["AIO API","Operations"]},"22":{"href":"/aio-operations#openat","html":"\n<p>Opens <code>path</code> relative to a <code>dir</code>, opening is customized by <code>flags</code>.\nThe opened file is stored into the location pointed by <code>out_file</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">flags</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">OpenFlags</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{},</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_file</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nOpens path relative to a dir, opening is customized by flags.\nThe opened file is stored into the location pointed by out_file.\ndir: std.fs.Dir,\npath: [*:0]const u8,\nflags: std.fs.File.OpenFlags = .{},\nout_file: *std.fs.File,\n","title":"OpenAt","titles":["AIO API","Operations"]},"23":{"href":"/aio-operations#closefile","html":"\n<p>Closes a <code>file</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">File</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nCloses a file.\nfile: std.fs.File,\n","title":"CloseFile","titles":["AIO API","Operations"]},"24":{"href":"/aio-operations#closedir","html":"\n<p>Closes a <code>dir</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nCloses a dir.\ndir: std.fs.Dir,\n","title":"CloseDir","titles":["AIO API","Operations"]},"25":{"href":"/aio-operations#timeout","html":"\n<p>Starts a timeout. Once the timeout expires the operation completes.\nThe timeout uses a monotnic clock source.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">ns</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">i128</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nStarts a timeout. Once the timeout expires the operation completes.\nThe timeout uses a monotnic clock source.\nns: i128,\n","title":"Timeout","titles":["AIO API","Operations"]},"26":{"href":"/aio-operations#linktimeout","html":"\n<p>Timeout linked to a operation.\nThe operation before must have set <code>link</code> to either <code>soft</code> or <code>hard</code>.\nIf the operation finishes before the timeout, then the timeout will be canceled.\nIf the timeout finishes before the operation, then the operation will be canceled.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">ns</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">i128</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nTimeout linked to a operation.\nThe operation before must have set link to either soft or hard.\nIf the operation finishes before the timeout, then the timeout will be canceled.\nIf the timeout finishes before the operation, then the operation will be canceled.\nns: i128,\n","title":"LinkTimeout","titles":["AIO API","Operations"]},"27":{"href":"/aio-operations#cancel","html":"\n<p>Cancel existing operation referenced by <code>id</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">id</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Id</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nCancel existing operation referenced by id.\nid: Id,\n","title":"Cancel","titles":["AIO API","Operations"]},"28":{"href":"/aio-operations#renameat","html":"\n<p>Rename a <code>old_path</code> relative to <code>old_dir</code> into <code>new_path</code> relative to <code>new_dir</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">old_dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">old_path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">new_dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">new_path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nRename a old_path relative to old_dir into new_path relative to new_dir.\nold_dir: std.fs.Dir,\nold_path: [*:0]const u8,\nnew_dir: std.fs.Dir,\nnew_path: [*:0]const u8,\n","title":"RenameAt","titles":["AIO API","Operations"]},"29":{"href":"/aio-operations#unlinkat","html":"\n<p>Delete a file or directory locating in <code>path</code> relative to <code>dir</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nDelete a file or directory locating in path relative to dir.\ndir: std.fs.Dir,\npath: [*:0]const u8,\n","title":"UnlinkAt","titles":["AIO API","Operations"]},"30":{"href":"/aio-operations#mkdirat","html":"\n<p>Create directory relative to <code>dir</code> at <code>path</code>.\nThe <code>mode</code> parameter can specify the mode of the directory on supporting operating systems.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">mode</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u32</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">default_mode</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nCreate directory relative to dir at path.\nThe mode parameter can specify the mode of the directory on supporting operating systems.\ndir: std.fs.Dir,\npath: [*:0]const u8,\nmode: u32 = std.fs.Dir.default_mode,\n","title":"MkDirAt","titles":["AIO API","Operations"]},"31":{"href":"/aio-operations#symlinkat","html":"\n<p>Create a symlink relative to <code>dir</code> at <code>link_path</code> linking to the <code>target</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Dir</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">target</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">link_path</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">:</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nCreate a symlink relative to dir at link_path linking to the target.\ndir: std.fs.Dir,\ntarget: [*:0]const u8,\nlink_path: [*:0]const u8,\n","title":"SymlinkAt","titles":["AIO API","Operations"]},"32":{"href":"/aio-operations#childexit","html":"\n<p>Waits for a child process to exit and collects its exit status.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">child</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">process</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Child</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Id</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_term</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">?*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">process</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Child</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Term</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> null</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nWaits for a child process to exit and collects its exit status.\nchild: std.process.Child.Id,\nout_term: ?*std.process.Child.Term = null,\n","title":"ChildExit","titles":["AIO API","Operations"]},"33":{"href":"/aio-operations#socket","html":"\n<p>See <code>man socket(2)</code></p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">/// std.posix.AF</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">domain</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u32</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">/// std.posix.SOCK</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">flags</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u32</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">/// std.posix.IPPROTO</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">protocol</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u32</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>\n","isPage":false,"text":"\nSee man socket(2)\n/// std.posix.AF\ndomain: u32,\n/// std.posix.SOCK\nflags: u32,\n/// std.posix.IPPROTO\nprotocol: u32,\nout_socket: *std.posix.socket_t,\n","title":"Socket","titles":["AIO API","Operations"]},"34":{"href":"/aio-operations#closesocket","html":"\n<p>Closes a <code>socket</code>.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span></code></pre>","isPage":false,"text":"\nCloses a socket.\nsocket: std.posix.socket_t,","title":"CloseSocket","titles":["AIO API","Operations"]},"35":{"href":"/coro-blocking-code#coro-api","html":"</header>\n","isPage":true,"text":"\n","title":"CORO API","titles":[]},"36":{"href":"/coro-blocking-code#mixing-blocking-code","html":"\n<p>Sometimes it&#x27;s not feasible to rewrite blocking code so that it plays nice with the <code>coro.Scheduler</code>.\nIn that kind of scenario it is possible to use <code>coro.ThreadPool</code> to allow tasks to yield until blocking code\nfinishes on a worker thread.</p>\n","isPage":false,"text":"\nSometimes it&#x27;s not feasible to rewrite blocking code so that it plays nice with the coro.Scheduler.\nIn that kind of scenario it is possible to use coro.ThreadPool to allow tasks to yield until blocking code\nfinishes on a worker thread.\n","title":"Mixing blocking code","titles":["CORO API"]},"37":{"href":"/coro-blocking-code#example","html":"\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> blockingCode</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">() </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u32</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">time</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">sleep</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> *</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">time</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">ns_per_s</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    return</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 69</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">*</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">ThreadPool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">!void</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> ret</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">yieldForCompletition</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">blockingCode</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">testing</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">expectEqual</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">69</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">ret</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> Scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">init</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">testing</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">ThreadPool</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{};</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">start</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">testing</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(); </span><span style=\"color:#6A737D;--shiki-dark:#768390\">// pool must always be destroyed before scheduler</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">_</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">spawn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">&amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">pool</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">run</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span></code></pre>","isPage":false,"text":"\nfn blockingCode() u32 {\n    std.time.sleep(1 * std.time.ns_per_s);\n    return 69;\n}\n \nfn task(pool: *ThreadPool) !void {\n    const ret = try pool.yieldForCompletition(blockingCode, .{});\n    try std.testing.expectEqual(69, ret);\n}\n \nvar scheduler = try Scheduler.init(std.testing.allocator, .{});\ndefer scheduler.deinit();\n \nvar pool: ThreadPool = .{};\ntry pool.start(std.testing.allocator, 0);\ndefer pool.deinit(); // pool must always be destroyed before scheduler\n \n_ = try scheduler.spawn(task, .{&amp;pool}, .{});\ntry scheduler.run();","title":"Example","titles":["CORO API","Mixing blocking code"]},"38":{"href":"/coro-context-switches#coro-api","html":"</header>\n","isPage":true,"text":"\n","title":"CORO API","titles":[]},"39":{"href":"/coro-context-switches#paired-context-switches","html":"\n<p>To yield running task to the caller use the following.\nThe function takes a enum value as a argument representing the yield state of the task.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">yield</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SomeEnum</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">value</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>To continue running the task from where it left, you need to issue the same enum value to the following function.\nIf you specify the third parameter as <code>.wait</code>, the current task will yield (or block if not a task) until the\ntarget task yields to that particural state. If instead third parameter is <code>.no_wait</code> then if the task currently\nisn&#x27;t being yielded in the supplied state, the call is a no-op.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">wakeupFromState</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SomeEnum</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">value</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">wait</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>This is the preferred way to handle the control flow between tasks.</p>\n","isPage":false,"text":"\nTo yield running task to the caller use the following.\nThe function takes a enum value as a argument representing the yield state of the task.\ncoro.yield(SomeEnum.value);\nTo continue running the task from where it left, you need to issue the same enum value to the following function.\nIf you specify the third parameter as .wait, the current task will yield (or block if not a task) until the\ntarget task yields to that particural state. If instead third parameter is .no_wait then if the task currently\nisn&#x27;t being yielded in the supplied state, the call is a no-op.\ncoro.wakeupFromState(task, SomeEnum.value, .wait);\nThis is the preferred way to handle the control flow between tasks.\n","title":"Paired context switches","titles":["CORO API"]},"40":{"href":"/coro-context-switches#canceling-io","html":"\n<p>While it&#x27;s possible to cancel IO by using the <code>aio.Cancel</code> operations. It is also possible to cancel\nall IO operations currently blocking a task by doing the following.\nIf the task currently isn&#x27;t being yielded by IO then the call is no-op.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">wakeupFromIo</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n","isPage":false,"text":"\nWhile it&#x27;s possible to cancel IO by using the aio.Cancel operations. It is also possible to cancel\nall IO operations currently blocking a task by doing the following.\nIf the task currently isn&#x27;t being yielded by IO then the call is no-op.\ncoro.wakeupFromIo(task);\n","title":"Canceling IO","titles":["CORO API"]},"41":{"href":"/coro-context-switches#unpaired-wakeup","html":"\n<p>Sometimes it&#x27;s useful to be able to wakeup the task from any yielding state.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">wakeup</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>In this case the task will wake up no matter what its yielding state is currently.</p>","isPage":false,"text":"\nSometimes it&#x27;s useful to be able to wakeup the task from any yielding state.\ncoro.wakeup(task);\nIn this case the task will wake up no matter what its yielding state is currently.","title":"Unpaired wakeup","titles":["CORO API"]},"42":{"href":"/coro-io#coro-api","html":"</header>\n","isPage":true,"text":"\n","title":"CORO API","titles":[]},"43":{"href":"/coro-io#io","html":"\n<p>Inside a task it is possible to use the IO functions inside the <code>coro.io</code> namespace to perform cooperative\nIO with the <code>Scheduler</code>. When calling a <code>coro.io</code> operation from a task, the task setups some internal state,\nqueues the IO operations for <code>Scheduler</code> and then yields, allowing other code to run in the program.</p>\n<p>All the IO operations are merged into one <code>aio.Dynamic</code> instance for completition during the next scheduler tick.\nWhile this may not be beneficial on all backends, the io_uring backend allows the kernel to execute all\nthe yielding tasks IO operations with a single syscall.</p>\n","isPage":false,"text":"\nInside a task it is possible to use the IO functions inside the coro.io namespace to perform cooperative\nIO with the Scheduler. When calling a coro.io operation from a task, the task setups some internal state,\nqueues the IO operations for Scheduler and then yields, allowing other code to run in the program.\nAll the IO operations are merged into one aio.Dynamic instance for completition during the next scheduler tick.\nWhile this may not be beneficial on all backends, the io_uring backend allows the kernel to execute all\nthe yielding tasks IO operations with a single syscall.\n","title":"IO","titles":["CORO API"]},"44":{"href":"/coro-io#performing-io-operations","html":"\n<p>Performing operations is similar to <code>aio</code> module. The api is the same, but instead use the <code>coro.io</code> namespace.\nBelow is a full example of simple server / client program using the <code>coro</code> api. If <code>coro.io</code> functions are used\noutside a task then the call would be equal to calling the equal function from the <code>aio</code> module.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;std&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;coro&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> log</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">scoped</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro_aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">pub</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio_options</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Options</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">debug</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> false</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#6A737D;--shiki-dark:#768390\">// set to true to enable debug logs</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">};</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">pub</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro_options</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Options</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">debug</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> false</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#6A737D;--shiki-dark:#768390\">// set to true to enable debug logs</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">};</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">pub</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std_options</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Options</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">log_level</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">debug</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">};</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> Yield</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> enum</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    server_ready</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">};</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> server</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">client_task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">!void</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">domain</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">AF</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">INET</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">flags</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCK</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">STREAM</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> |</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCK</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">CLOEXEC</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">protocol</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">IPPROTO</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">TCP</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> address</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">net</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">initIp4</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{ </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> }, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1327</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">setsockopt</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOL</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCKET</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SO</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">REUSEADDR</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">&amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">mem</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">toBytes</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">@as</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">c_int</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">)));</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    if</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">@hasDecl</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SO</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;REUSEPORT&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">        try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">setsockopt</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOL</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCKET</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SO</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">REUSEPORT</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">&amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">mem</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">toBytes</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">@as</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">c_int</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">)));</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    }</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">bind</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">&amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">any</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">getOsSockLen</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">());</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">listen</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">128</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">wakeupFromState</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">client_task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Yield</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">server_ready</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">wait</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Accept</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1024</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">multi</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Send</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;hey &quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Send</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;I&#x27;m doing multiple IO ops at once &quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Send</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;how cool is that? &quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Recv</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">warn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;got reply from client: {s}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">multi</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Send</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;ok bye&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">CloseSocket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_sock</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">link</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">soft</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">CloseSocket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> },</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> client</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">() </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">!void</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket_t</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">domain</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">AF</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">INET</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">flags</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCK</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">STREAM</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> |</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">SOCK</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">CLOEXEC</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">protocol</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">posix</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">IPPROTO</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">TCP</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">yield</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Yield</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">server_ready</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> address</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">net</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">initIp4</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{ </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">127</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> }, </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1327</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Connect</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">addr</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">any</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">addrlen</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> address</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">getOsSockLen</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(),</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    while</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">true</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">        var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1024</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">        var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">        try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Recv</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">warn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;got reply from server: {s}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">        if</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> (</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">mem</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">indexOf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">], </span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;how cool is that?&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">)) </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">|</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">_</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">|</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> break</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    }</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Send</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> &quot;dude, I don&#x27;t care&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1024</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">io</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">single</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Recv</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{ .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">socket</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> socket</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> });</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">warn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;got final words from server: {s}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]});</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">pub</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> main</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">() </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">!void</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">    // var mem: [4096 * 1024]u8 = undefined;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">    // var fba = std.heap.FixedBufferAllocator.init(&amp;mem);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> gpa</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">heap</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#F69D50\">GeneralPurposeAllocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{}) </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">=</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> .{};</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> _</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> gpa</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">init</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">gpa</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(), .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> client_task</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">spawn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">client</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{}, .{});</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    _</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">spawn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">server</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">client_task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">run</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span></code></pre>\n","isPage":false,"text":"\nPerforming operations is similar to aio module. The api is the same, but instead use the coro.io namespace.\nBelow is a full example of simple server / client program using the coro api. If coro.io functions are used\noutside a task then the call would be equal to calling the equal function from the aio module.\nconst std = @import(&quot;std&quot;);\nconst aio = @import(&quot;aio&quot;);\nconst coro = @import(&quot;coro&quot;);\nconst log = std.log.scoped(.coro_aio);\n \npub const aio_options: aio.Options = .{\n    .debug = false, // set to true to enable debug logs\n};\n \npub const coro_options: coro.Options = .{\n    .debug = false, // set to true to enable debug logs\n};\n \npub const std_options: std.Options = .{\n    .log_level = .debug,\n};\n \nconst Yield = enum {\n    server_ready,\n};\n \nfn server(client_task: coro.Task) !void {\n    var socket: std.posix.socket_t = undefined;\n    try coro.io.single(aio.Socket{\n        .domain = std.posix.AF.INET,\n        .flags = std.posix.SOCK.STREAM | std.posix.SOCK.CLOEXEC,\n        .protocol = std.posix.IPPROTO.TCP,\n        .out_socket = &amp;socket,\n    });\n \n    const address = std.net.Address.initIp4(.{ 0, 0, 0, 0 }, 1327);\n    try std.posix.setsockopt(socket, std.posix.SOL.SOCKET, std.posix.SO.REUSEADDR, &amp;std.mem.toBytes(@as(c_int, 1)));\n    if (@hasDecl(std.posix.SO, &quot;REUSEPORT&quot;)) {\n        try std.posix.setsockopt(socket, std.posix.SOL.SOCKET, std.posix.SO.REUSEPORT, &amp;std.mem.toBytes(@as(c_int, 1)));\n    }\n    try std.posix.bind(socket, &amp;address.any, address.getOsSockLen());\n    try std.posix.listen(socket, 128);\n \n    coro.wakeupFromState(client_task, Yield.server_ready, .wait);\n \n    var client_sock: std.posix.socket_t = undefined;\n    try coro.io.single(aio.Accept{ .socket = socket, .out_socket = &amp;client_sock });\n \n    var buf: [1024]u8 = undefined;\n    var len: usize = 0;\n    try coro.io.multi(.{\n        aio.Send{ .socket = client_sock, .buffer = &quot;hey &quot;, .link = .soft },\n        aio.Send{ .socket = client_sock, .buffer = &quot;I&#x27;m doing multiple IO ops at once &quot;, .link = .soft },\n        aio.Send{ .socket = client_sock, .buffer = &quot;how cool is that? &quot;, .link = .soft },\n        aio.Recv{ .socket = client_sock, .buffer = &amp;buf, .out_read = &amp;len },\n    });\n \n    log.warn(&quot;got reply from client: {s}&quot;, .{buf[0..len]});\n    try coro.io.multi(.{\n        aio.Send{ .socket = client_sock, .buffer = &quot;ok bye&quot;, .link = .soft },\n        aio.CloseSocket{ .socket = client_sock, .link = .soft },\n        aio.CloseSocket{ .socket = socket },\n    });\n}\n \nfn client() !void {\n    var socket: std.posix.socket_t = undefined;\n    try coro.io.single(aio.Socket{\n        .domain = std.posix.AF.INET,\n        .flags = std.posix.SOCK.STREAM | std.posix.SOCK.CLOEXEC,\n        .protocol = std.posix.IPPROTO.TCP,\n        .out_socket = &amp;socket,\n    });\n \n    coro.yield(Yield.server_ready);\n \n    const address = std.net.Address.initIp4(.{ 127, 0, 0, 1 }, 1327);\n    try coro.io.single(aio.Connect{\n        .socket = socket,\n        .addr = &amp;address.any,\n        .addrlen = address.getOsSockLen(),\n    });\n \n    while (true) {\n        var buf: [1024]u8 = undefined;\n        var len: usize = 0;\n        try coro.io.single(aio.Recv{ .socket = socket, .buffer = &amp;buf, .out_read = &amp;len });\n        log.warn(&quot;got reply from server: {s}&quot;, .{buf[0..len]});\n        if (std.mem.indexOf(u8, buf[0..len], &quot;how cool is that?&quot;)) |_| break;\n    }\n \n    try coro.io.single(aio.Send{ .socket = socket, .buffer = &quot;dude, I don&#x27;t care&quot; });\n \n    var buf: [1024]u8 = undefined;\n    var len: usize = 0;\n    try coro.io.single(aio.Recv{ .socket = socket, .buffer = &amp;buf, .out_read = &amp;len });\n    log.warn(&quot;got final words from server: {s}&quot;, .{buf[0..len]});\n}\n \npub fn main() !void {\n    // var mem: [4096 * 1024]u8 = undefined;\n    // var fba = std.heap.FixedBufferAllocator.init(&amp;mem);\n    var gpa: std.heap.GeneralPurposeAllocator(.{}) = .{};\n    defer _ = gpa.deinit();\n    var scheduler = try coro.Scheduler.init(gpa.allocator(), .{});\n    defer scheduler.deinit();\n    const client_task = try scheduler.spawn(client, .{}, .{});\n    _ = try scheduler.spawn(server, .{client_task}, .{});\n    try scheduler.run();\n}\n","title":"Performing io operations","titles":["CORO API","IO"]},"45":{"href":"/coro-io#cancellations","html":"\n<p>Use <code>aio.Cancel</code> operation to cancel the currently running operations in a task.\nThe <code>out_error</code> of such operation will then be set as <code>error.OperationCanceled</code>.</p>\n<p>Alternatively it&#x27;s possible to call <code>scheduler.wakeup(task);</code> or <code>scheduler.wakeupFromIo(task)</code>\nwhich also cancels all currently running IO on that task.</p>","isPage":false,"text":"\nUse aio.Cancel operation to cancel the currently running operations in a task.\nThe out_error of such operation will then be set as error.OperationCanceled.\nAlternatively it&#x27;s possible to call scheduler.wakeup(task); or scheduler.wakeupFromIo(task)\nwhich also cancels all currently running IO on that task.","title":"Cancellations","titles":["CORO API","IO"]},"46":{"href":"/coro-scheduler#coro-api","html":"</header>\n","isPage":true,"text":"\n","title":"CORO API","titles":[]},"47":{"href":"/coro-scheduler#scheduler","html":"\n<p>To do a non-blocking IO while still maintaining the imperative blocking style of coding.\nWe need a coroutines and a scheduler that schedules the context switches of said coroutines.\nIn this guide we refer to the coroutines as tasks.</p>\n","isPage":false,"text":"\nTo do a non-blocking IO while still maintaining the imperative blocking style of coding.\nWe need a coroutines and a scheduler that schedules the context switches of said coroutines.\nIn this guide we refer to the coroutines as tasks.\n","title":"Scheduler","titles":["CORO API"]},"48":{"href":"/coro-scheduler#initializing-scheduler-instance","html":"\n<p>Scheduler requires an <code>allocator</code> and optional <code>InitOptions</code>.\nThe scheduler stores the <code>allocator</code> and uses it for managed task creation and destruction.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">init</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">gpa</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">allocator</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(), .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">deinit</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span></code></pre>\n","isPage":false,"text":"\nScheduler requires an allocator and optional InitOptions.\nThe scheduler stores the allocator and uses it for managed task creation and destruction.\nvar scheduler = try coro.Scheduler.init(gpa.allocator(), .{});\ndefer scheduler.deinit();\n","title":"Initializing Scheduler instance","titles":["CORO API","Scheduler"]},"49":{"href":"/coro-scheduler#spawning-tasks","html":"\n<p>A new task can be spawned by specifying <code>entrypoint</code>, which must be a function with either <code>void</code> or <code>!void</code> return type.\nIf it&#x27;s <code>!void</code> and returns a error then a stacktrace of the error is dumped, similarly to how std&#x27;s <code>std.Thread</code> works.\nSupply arguments to the <code>entrypoint</code> by providing a tuple as the second parameter.\nThe third parameter takes a optional <code>SpawnOptions</code>, which can be used to specify the stack size of the Task, or\nprovide a pre-allocated unmanaged stack.</p>\n<p>When task is spawned, the <code>entrypoint</code> is immediately called and the code in the <code>entrypoint</code> runs until the task either\nyields or performs a IO operation using one of the <code>coro.io</code> namespace functions.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> task</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">spawn</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">entrypoint</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{ </span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">1</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;args&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> }, .{});</span></span></code></pre>\n","isPage":false,"text":"\nA new task can be spawned by specifying entrypoint, which must be a function with either void or !void return type.\nIf it&#x27;s !void and returns a error then a stacktrace of the error is dumped, similarly to how std&#x27;s std.Thread works.\nSupply arguments to the entrypoint by providing a tuple as the second parameter.\nThe third parameter takes a optional SpawnOptions, which can be used to specify the stack size of the Task, or\nprovide a pre-allocated unmanaged stack.\nWhen task is spawned, the entrypoint is immediately called and the code in the entrypoint runs until the task either\nyields or performs a IO operation using one of the coro.io namespace functions.\nvar task = try scheduler.spawn(entrypoint, .{ 1, &quot;args&quot; }, .{});\n","title":"Spawning tasks","titles":["CORO API","Scheduler"]},"50":{"href":"/coro-scheduler#reaping-tasks","html":"\n<p>Following removes a task, freeing its memory and canceling all running IO operations for that task.\nThe reap may be delayed in case the task is currently doing IO, the IO operations will be actively canceled.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">reap</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">task</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>Alternatively reap all the tasks using the following.\nThe reap may be delayed in case the tasks are currently doing IO, the IO operations will be actively canceled.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">reapAll</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span></code></pre>\n<p>Call to <code>deinit</code> also reaps all tasks.</p>\n","isPage":false,"text":"\nFollowing removes a task, freeing its memory and canceling all running IO operations for that task.\nThe reap may be delayed in case the task is currently doing IO, the IO operations will be actively canceled.\nscheduler.reap(task);\nAlternatively reap all the tasks using the following.\nThe reap may be delayed in case the tasks are currently doing IO, the IO operations will be actively canceled.\nscheduler.reapAll();\nCall to deinit also reaps all tasks.\n","title":"Reaping tasks","titles":["CORO API","Scheduler"]},"51":{"href":"/coro-scheduler#running","html":"\n<p>The scheduler can process tasks and IO one step a time with the tick method.\nBy running tick the scheduler will reap tasks that returned (dead tasks) and context switch back to the\ntasks in case they completed their IO operations.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// if there are pending IO operations, blocks until at least one completes</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">tick</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">blocking</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// returns immediately regardless of the current IO state</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">tick</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">nonblocking</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>\n<p>To run the scheduler until all tasks have returned aka died, then use the following.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> scheduler</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">run</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span></code></pre>","isPage":false,"text":"\nThe scheduler can process tasks and IO one step a time with the tick method.\nBy running tick the scheduler will reap tasks that returned (dead tasks) and context switch back to the\ntasks in case they completed their IO operations.\n// if there are pending IO operations, blocks until at least one completes\ntry scheduler.tick(.blocking);\n// returns immediately regardless of the current IO state\ntry scheduler.tick(.nonblocking);\nTo run the scheduler until all tasks have returned aka died, then use the following.\ntry scheduler.run();","title":"Running","titles":["CORO API","Scheduler"]},"52":{"href":"#overview","html":"</header>\n<p>zig-aio provides io_uring like asynchronous API and coroutine powered IO tasks for zig</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;std&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> log</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">scoped</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">aio_immediate</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">pub</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> fn</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\"> main</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">() </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">!void</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">cwd</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">().</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">openFile</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;flake.nix&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">close</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">4096</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f2</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> std</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">fs</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">cwd</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">().</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">openFile</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;build.zig.zon&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{});</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    defer</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">close</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> buf2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: [</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">4096</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]</span><span style=\"color:#D73A49;--shiki-dark:#F47067\">u8</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> undefined</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    var</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> len2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">: </span><span style=\"color:#D73A49;--shiki-dark:#F47067\">usize</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> 0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">;</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">    const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> num_errors</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> try</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">complete</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(.{</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        },</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">        aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">Read</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">{</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">file</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> f2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buffer</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">            .</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">out_read</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> &amp;</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">        },</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">    });</span></span>\n<span class=\"line\" data-empty-line=\"true\"> </span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">info</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;{s}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]});</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">info</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;{s}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">buf2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">[</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\">0</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">..</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">len2</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">]});</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">    log</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">info</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;{}&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">num_errors</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">});</span></span>\n<span class=\"line\"><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">}</span></span></code></pre>\n","isPage":true,"text":"\nzig-aio provides io_uring like asynchronous API and coroutine powered IO tasks for zig\nconst std = @import(&quot;std&quot;);\nconst aio = @import(&quot;aio&quot;);\nconst log = std.log.scoped(.aio_immediate);\n \npub fn main() !void {\n    var f = try std.fs.cwd().openFile(&quot;flake.nix&quot;, .{});\n    defer f.close();\n    var buf: [4096]u8 = undefined;\n    var len: usize = 0;\n \n    var f2 = try std.fs.cwd().openFile(&quot;build.zig.zon&quot;, .{});\n    defer f2.close();\n    var buf2: [4096]u8 = undefined;\n    var len2: usize = 0;\n \n    const num_errors = try aio.complete(.{\n        aio.Read{\n            .file = f,\n            .buffer = &amp;buf,\n            .out_read = &amp;len,\n        },\n        aio.Read{\n            .file = f2,\n            .buffer = &amp;buf2,\n            .out_read = &amp;len2,\n        },\n    });\n \n    log.info(&quot;{s}&quot;, .{buf[0..len]});\n    log.info(&quot;{s}&quot;, .{buf2[0..len2]});\n    log.info(&quot;{}&quot;, .{num_errors});\n}\n","title":"Overview","titles":[]},"53":{"href":"#features","html":"\n<ul>\n<li>Blocking and asynchronous API</li>\n<li>Atomic operations</li>\n<li>Parallel execution</li>\n<li>Cancellation</li>\n<li>Timeouts</li>\n<li>Comes with a runtime and scheduler for coroutines</li>\n<li>Tightly tied into io_uring</li>\n</ul>","isPage":false,"text":"\n\nBlocking and asynchronous API\nAtomic operations\nParallel execution\nCancellation\nTimeouts\nComes with a runtime and scheduler for coroutines\nTightly tied into io_uring\n","title":"Features","titles":["Overview"]},"54":{"href":"/integration#integrating-zig-aio","html":"</header>\n","isPage":true,"text":"\n","title":"Integrating zig-aio","titles":[]},"55":{"href":"/integration#zig-package-manager","html":"\n","isPage":false,"text":"\n","title":"Zig Package Manager","titles":["Integrating zig-aio"]},"56":{"href":"/integration#fetching-and-updating-the-zig-aio-dependency","html":"\n<p>Run the following command in zig project root directory.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6F42C1;--shiki-dark:#F69D50\">zig</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> fetch</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> --save</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\"> git+https://github.com/Cloudef/zig-aio.git</span></span></code></pre>\n","isPage":false,"text":"\nRun the following command in zig project root directory.\nzig fetch --save git+https://github.com/Cloudef/zig-aio.git\n","title":"Fetching and updating the zig-aio dependency","titles":["Integrating zig-aio","Zig Package Manager"]},"57":{"href":"/integration#using-zig-aio-modules-in-zig-project","html":"\n<p>In <code>build.zig</code> file add the following for whichever modules <code>zig-aio</code> is required.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// get the &quot;zig-aio&quot; dependency from &quot;build.zig.zon&quot;</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> zig_aio</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> b</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">dependency</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;zig-aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, .{});</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// for exe, lib, tests, etc.</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">exe</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">root_module</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">addImport</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">zig_aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">module</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">));</span></span>\n<span class=\"line\"><span style=\"color:#6A737D;--shiki-dark:#768390\">// for coroutines api</span></span>\n<span class=\"line\"><span style=\"color:#E36209;--shiki-dark:#F69D50\">exe</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#E36209;--shiki-dark:#F69D50\">root_module</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">addImport</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;coro&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">, </span><span style=\"color:#E36209;--shiki-dark:#F69D50\">zig_aio</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">.</span><span style=\"color:#6F42C1;--shiki-dark:#DCBDFB\">module</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;coro&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">));</span></span></code></pre>\n","isPage":false,"text":"\nIn build.zig file add the following for whichever modules zig-aio is required.\n// get the &quot;zig-aio&quot; dependency from &quot;build.zig.zon&quot;\nconst zig_aio = b.dependency(&quot;zig-aio&quot;, .{});\n// for exe, lib, tests, etc.\nexe.root_module.addImport(&quot;aio&quot;, zig_aio.module(&quot;aio&quot;));\n// for coroutines api\nexe.root_module.addImport(&quot;coro&quot;, zig_aio.module(&quot;coro&quot;));\n","title":"Using zig-aio modules in zig project","titles":["Integrating zig-aio","Zig Package Manager"]},"58":{"href":"/integration#using-zig-aio-in-zig-code","html":"\n<p>It&#x27;s possible to import the modules like this.</p>\n<pre class=\"shiki shiki-themes github-light github-dark-dimmed\" style=\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> aio</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;aio&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49;--shiki-dark:#F47067\">const</span><span style=\"color:#E36209;--shiki-dark:#F69D50\"> coro</span><span style=\"color:#D73A49;--shiki-dark:#F47067\"> =</span><span style=\"color:#005CC5;--shiki-dark:#6CB6FF\"> @import</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">(</span><span style=\"color:#032F62;--shiki-dark:#96D0FF\">&quot;coro&quot;</span><span style=\"color:#24292E;--shiki-dark:#ADBAC7\">);</span></span></code></pre>","isPage":false,"text":"\nIt&#x27;s possible to import the modules like this.\nconst aio = @import(&quot;aio&quot;);\nconst coro = @import(&quot;coro&quot;);","title":"Using zig-aio in zig code","titles":["Integrating zig-aio","Zig Package Manager"]}},"dirtCount":0,"index":[["zon",{"2":{"52":1,"57":1}}],["zig",{"0":{"54":1,"55":1,"56":1,"57":2,"58":2},"1":{"55":1,"56":2,"57":2,"58":2},"2":{"7":1,"9":1,"52":3,"56":3,"57":8}}],["4096",{"2":{"44":1,"52":2}}],["git",{"2":{"56":1}}],["github",{"2":{"56":1}}],["git+https",{"2":{"56":1}}],["guide",{"2":{"47":1}}],["get",{"2":{"57":1}}],["getossocklen",{"2":{"44":2}}],["generalpurposeallocator",{"2":{"44":1}}],["gpa",{"2":{"44":3,"48":1}}],["got",{"2":{"44":3}}],["gt",{"2":{"11":1}}],["|",{"2":{"44":4}}],["you",{"2":{"39":2}}],["yielding",{"2":{"41":2,"43":1}}],["yielded",{"2":{"39":1,"40":1}}],["yields",{"2":{"39":1,"43":1,"49":1}}],["yieldforcompletition",{"2":{"37":1}}],["yield",{"2":{"36":1,"39":4,"44":4}}],["69",{"2":{"37":2}}],["kernel",{"2":{"43":1}}],["kind",{"2":{"36":1}}],["known",{"2":{"1":1}}],["2",{"2":{"18":1,"19":1,"20":1,"21":1,"33":1}}],["0",{"2":{"11":1,"14":1,"16":1,"17":1,"22":1,"28":2,"29":1,"30":1,"31":2,"37":1,"44":13,"52":4}}],["root",{"2":{"56":1,"57":2}}],["runtime",{"2":{"53":1}}],["runs",{"2":{"49":1}}],["run",{"2":{"37":1,"43":1,"44":1,"51":2,"56":1}}],["running",{"0":{"51":1},"2":{"11":1,"39":2,"45":2,"50":1,"51":1}}],["regardless",{"2":{"51":1}}],["removes",{"2":{"50":1}}],["remain",{"2":{"13":1}}],["reaps",{"2":{"50":1}}],["reapall",{"2":{"50":1}}],["reap",{"2":{"50":4,"51":1}}],["reaping",{"0":{"50":1}}],["ready",{"2":{"44":3}}],["reads",{"2":{"16":1}}],["readerror",{"2":{"11":1}}],["read",{"0":{"16":1},"2":{"3":1,"10":2,"11":6,"16":3,"20":1,"44":3,"52":4}}],["reply",{"2":{"44":2}}],["representing",{"2":{"39":1}}],["reuseport",{"2":{"44":2}}],["reuseaddr",{"2":{"44":1}}],["ret",{"2":{"37":2}}],["returned",{"2":{"51":2}}],["return",{"2":{"11":1,"37":1,"49":1}}],["returns",{"2":{"4":4,"8":2,"10":2,"11":1,"49":1,"51":1}}],["rewrite",{"2":{"36":1}}],["rename",{"2":{"28":1}}],["renameat",{"0":{"28":1}}],["relative",{"2":{"22":1,"28":2,"29":1,"30":1,"31":1}}],["recv",{"0":{"20":1},"2":{"20":1,"44":3}}],["referenced",{"2":{"27":1}}],["refer",{"2":{"14":1,"47":1}}],["required",{"2":{"5":1,"57":1}}],["requires",{"2":{"2":1,"48":1}}],["resources",{"2":{"11":1}}],["res",{"2":{"4":2,"11":2}}],["how",{"2":{"44":2,"49":1}}],["hey",{"2":{"44":1}}],["heap",{"2":{"2":2,"44":2}}],["handle",{"2":{"39":1}}],["handful",{"2":{"13":1}}],["hasdecl",{"2":{"44":1}}],["has",{"2":{"13":1,"14":1}}],["have",{"2":{"11":1,"26":1,"51":1}}],["hard",{"2":{"10":1,"14":1,"26":1}}],["quot",{"2":{"8":2,"10":2,"11":6,"44":26,"49":2,"52":14,"57":14,"58":4}}],["queues",{"2":{"43":1}}],["queued",{"2":{"3":1}}],["queue",{"2":{"3":4,"14":1}}],["queuing",{"0":{"3":1}}],["value",{"2":{"39":4}}],["var",{"2":{"2":1,"10":2,"11":4,"37":2,"44":13,"48":1,"49":1,"52":6}}],["void",{"2":{"5":1,"8":1,"10":1,"37":1,"44":3,"49":3,"52":1}}],["127",{"2":{"44":1}}],["128",{"2":{"44":1}}],["1327",{"2":{"44":2}}],["1024",{"2":{"10":1,"11":1,"44":4}}],["1",{"2":{"4":1,"37":1,"44":3,"49":1}}],["nix",{"2":{"52":1}}],["nice",{"2":{"36":1}}],["namespace",{"2":{"43":1,"44":1,"49":1}}],["net",{"2":{"44":2}}],["need",{"2":{"39":1,"47":1}}],["new",{"2":{"28":4,"49":1}}],["next",{"2":{"10":4,"14":5,"43":1}}],["ns",{"2":{"25":1,"26":1,"37":1}}],["null",{"2":{"14":2,"17":1,"18":2,"21":1,"32":1}}],["num",{"2":{"4":1,"11":1,"52":2}}],["number",{"2":{"4":3,"11":1}}],["normally",{"2":{"10":1,"14":1}}],["not",{"2":{"10":1,"11":1,"14":2,"36":1,"39":1,"43":1}}],["no",{"2":{"4":1,"8":1,"10":1,"14":1,"39":2,"40":1,"41":1}}],["nonblocking",{"2":{"4":1,"51":1}}],["none",{"2":{"3":1}}],["non",{"2":{"2":1,"4":2,"47":1}}],["etc",{"2":{"57":1}}],["entrypoint",{"2":{"49":5}}],["enable",{"2":{"44":2}}],["enum",{"2":{"39":2,"44":1}}],["equal",{"2":{"44":2}}],["exe",{"2":{"57":3}}],["execution",{"2":{"53":1}}],["execute",{"2":{"43":1}}],["expectequal",{"2":{"37":1}}],["expires",{"2":{"25":1}}],["exit",{"2":{"32":2}}],["existing",{"2":{"27":1}}],["example",{"0":{"37":1},"2":{"5":1,"44":1}}],["every",{"2":{"14":1}}],["even",{"2":{"4":1}}],["error",{"2":{"8":2,"10":1,"11":12,"14":5,"45":2,"49":2}}],["errors",{"2":{"4":3,"10":1,"11":3,"52":2}}],["either",{"2":{"3":1,"4":1,"26":1,"49":2}}],["logs",{"2":{"44":2}}],["log",{"2":{"44":6,"52":5}}],["locating",{"2":{"29":1}}],["location",{"2":{"16":1,"17":1,"22":1}}],["level",{"2":{"44":1}}],["left",{"2":{"39":1}}],["len2",{"2":{"52":3}}],["len",{"2":{"10":2,"11":2,"44":10,"52":3}}],["least",{"2":{"4":2,"51":1}}],["lib",{"2":{"57":1}}],["listen",{"2":{"44":1}}],["list",{"2":{"10":1}}],["linktimeout",{"0":{"26":1}}],["linked",{"2":{"14":1,"26":1}}],["linking",{"2":{"10":1,"31":1}}],["link",{"2":{"5":1,"10":6,"11":1,"14":7,"26":1,"31":2,"44":5}}],["like",{"2":{"3":1,"52":1,"58":1}}],["just",{"2":{"3":1}}],["pending",{"2":{"51":1}}],["per",{"2":{"37":1}}],["performs",{"2":{"49":1}}],["performing",{"0":{"44":1},"2":{"44":1}}],["perform",{"0":{"8":1,"9":1},"1":{"10":1,"11":1},"2":{"43":1}}],["pub",{"2":{"44":4,"52":1}}],["pre",{"2":{"49":1}}],["preferred",{"2":{"39":1}}],["project",{"0":{"57":1},"2":{"56":1}}],["provide",{"2":{"49":1}}],["provides",{"2":{"7":1,"9":1,"52":1}}],["providing",{"2":{"49":1}}],["program",{"2":{"43":1,"44":1}}],["protocol",{"2":{"33":1,"44":2}}],["prototype",{"2":{"5":1}}],["process",{"2":{"32":3,"51":1}}],["propagate",{"2":{"10":2,"14":2}}],["plays",{"2":{"36":1}}],["powered",{"2":{"52":1}}],["pool",{"2":{"37":7}}],["pointed",{"2":{"16":1,"17":1,"22":1}}],["pointer",{"2":{"13":1}}],["posix",{"2":{"11":2,"18":4,"19":3,"20":1,"21":1,"33":4,"34":1,"44":20}}],["possible",{"2":{"3":1,"4":1,"5":1,"36":1,"40":2,"43":1,"45":1,"58":1}}],["package",{"0":{"55":1},"1":{"56":1,"57":1,"58":1}}],["parallel",{"2":{"53":1}}],["parameter",{"2":{"30":1,"39":2,"49":2}}],["particural",{"2":{"39":1}}],["paired",{"0":{"39":1}}],["path",{"2":{"22":2,"28":4,"29":2,"30":2,"31":2}}],["panic",{"2":{"11":2}}],["page",{"2":{"2":2}}],["switch",{"2":{"51":1}}],["switches",{"0":{"39":1},"2":{"47":1}}],["save",{"2":{"56":1}}],["said",{"2":{"47":1}}],["same",{"2":{"2":1,"39":1,"44":1}}],["spawnoptions",{"2":{"49":1}}],["spawned",{"2":{"49":2}}],["spawning",{"0":{"49":1}}],["spawn",{"2":{"37":1,"44":2,"49":1}}],["specifying",{"2":{"49":1}}],["specify",{"2":{"30":1,"39":1,"49":1}}],["specific",{"2":{"14":1}}],["sleep",{"2":{"37":1}}],["schedules",{"2":{"47":1}}],["scheduler",{"0":{"47":1,"48":1},"1":{"48":1,"49":1,"50":1,"51":1},"2":{"5":1,"36":1,"37":6,"43":3,"44":6,"45":2,"47":1,"48":5,"49":1,"50":2,"51":6,"53":1}}],["scoped",{"2":{"44":1,"52":1}}],["scenario",{"2":{"36":1}}],["second",{"2":{"49":1}}],["server",{"2":{"44":8}}],["send",{"0":{"21":1},"2":{"21":1,"44":5}}],["see",{"2":{"18":1,"19":1,"20":1,"21":1,"33":1}}],["setsockopt",{"2":{"44":2}}],["setups",{"2":{"43":1}}],["setting",{"2":{"11":1}}],["set",{"2":{"5":1,"14":2,"26":1,"44":2,"45":1}}],["syscall",{"2":{"43":1}}],["systems",{"2":{"30":1}}],["system",{"2":{"11":1}}],["symlink",{"2":{"31":1}}],["symlinkat",{"0":{"31":1}}],["synchronizes",{"2":{"15":1}}],["supply",{"2":{"49":1}}],["supplied",{"2":{"39":1}}],["supporting",{"2":{"30":1}}],["supports",{"2":{"14":1}}],["supported",{"2":{"13":1}}],["sucessful",{"2":{"14":1}}],["success",{"2":{"11":2,"14":1}}],["such",{"2":{"11":1,"45":1}}],["size",{"2":{"49":1}}],["simple",{"2":{"44":1}}],["similarly",{"2":{"49":1}}],["similar",{"2":{"11":1,"44":1}}],["single",{"0":{"8":1},"2":{"3":2,"8":2,"43":1,"44":7}}],["step",{"2":{"51":1}}],["stores",{"2":{"48":1}}],["stored",{"2":{"11":1,"14":3,"16":1,"17":1,"22":1}}],["style",{"2":{"47":1}}],["stream",{"2":{"44":2}}],["stack",{"2":{"49":2}}],["stacktrace",{"2":{"49":1}}],["state",{"2":{"39":3,"41":2,"43":1,"51":1}}],["status",{"2":{"32":1}}],["stable",{"2":{"13":1}}],["starts",{"2":{"10":1,"14":1,"25":1}}],["start",{"2":{"10":1,"14":1,"37":1}}],["still",{"2":{"11":1,"47":1}}],["std",{"2":{"2":2,"11":2,"15":1,"16":1,"17":1,"18":4,"19":3,"20":1,"21":1,"22":3,"23":1,"24":1,"28":2,"29":1,"30":2,"31":1,"32":2,"33":4,"34":1,"37":5,"44":32,"49":2,"52":5}}],["sol",{"2":{"44":2}}],["so",{"2":{"36":1,"44":3}}],["source",{"2":{"25":1}}],["sock",{"2":{"33":1,"44":12}}],["socklen",{"2":{"18":1,"19":1}}],["sockaddr",{"2":{"18":1,"19":1}}],["socket",{"0":{"33":1},"2":{"18":4,"19":2,"20":2,"21":2,"33":3,"34":3,"44":36}}],["some",{"2":{"43":1}}],["someenum",{"2":{"39":2}}],["sometimes",{"2":{"36":1,"41":1}}],["somewhere",{"2":{"11":1}}],["someoperationfailed",{"2":{"10":1,"11":1}}],["soft",{"2":{"10":2,"11":1,"14":1,"26":1,"44":5}}],["s",{"2":{"8":1,"36":1,"37":1,"40":1,"41":1,"44":3,"45":1,"49":2,"52":2,"58":1}}],["we",{"2":{"47":2}}],["were",{"2":{"4":2,"10":1}}],["written",{"2":{"17":3,"21":1}}],["writes",{"2":{"17":1}}],["writeerror",{"2":{"11":1}}],["write",{"0":{"17":1},"2":{"3":1,"8":1,"10":1,"11":5}}],["what",{"2":{"41":1}}],["while",{"2":{"40":1,"43":1,"44":1,"47":1}}],["whichever",{"2":{"57":1}}],["which",{"2":{"11":1,"45":1,"49":2}}],["where",{"2":{"39":1}}],["when",{"2":{"10":1,"14":1,"43":1,"49":1}}],["words",{"2":{"44":1}}],["works",{"2":{"49":1}}],["worker",{"2":{"36":1}}],["work",{"2":{"2":2,"3":2,"4":3}}],["would",{"2":{"44":1}}],["won",{"2":{"10":1,"14":1}}],["warn",{"2":{"44":3}}],["wake",{"2":{"41":1}}],["wakeup",{"0":{"41":1},"2":{"41":2,"45":1}}],["wakeupfromio",{"2":{"40":1,"45":1}}],["wakeupfromstate",{"2":{"39":1,"44":1}}],["way",{"2":{"14":1,"39":1}}],["ways",{"2":{"11":1}}],["waits",{"2":{"32":1}}],["wait",{"2":{"4":1,"39":3,"44":1}}],["was",{"2":{"2":1,"8":1,"14":1}}],["will",{"2":{"3":1,"4":1,"10":2,"11":1,"14":5,"26":2,"39":1,"41":1,"45":1,"50":2,"51":1}}],["within",{"2":{"4":1}}],["with",{"2":{"3":1,"36":1,"43":2,"49":1,"51":1,"53":1}}],["32",{"2":{"2":1}}],["=",{"2":{"2":2,"4":3,"8":2,"10":8,"11":15,"14":4,"16":1,"17":2,"18":2,"21":1,"22":1,"30":1,"32":1,"37":4,"44":68,"48":1,"49":1,"52":16,"57":1,"58":2}}],["m",{"2":{"44":1}}],["mixing",{"0":{"36":1},"1":{"37":1}}],["mkdirat",{"0":{"30":1}}],["monotnic",{"2":{"25":1}}],["modified",{"2":{"14":1}}],["modules",{"0":{"57":1},"2":{"57":1,"58":1}}],["module",{"2":{"7":1,"44":2,"57":4}}],["mode",{"2":{"4":1,"30":4}}],["maintaining",{"2":{"47":1}}],["main",{"2":{"44":1,"52":1}}],["matter",{"2":{"41":1}}],["manager",{"0":{"55":1},"1":{"56":1,"57":1,"58":1}}],["managed",{"2":{"48":1}}],["man",{"2":{"18":1,"19":1,"20":1,"21":1,"33":1}}],["may",{"2":{"11":1,"43":1,"50":2}}],["max",{"2":{"2":2}}],["my",{"2":{"10":4,"11":4}}],["method",{"2":{"51":1}}],["methods",{"2":{"9":1}}],["mem",{"2":{"44":5}}],["memory",{"2":{"2":1,"50":1}}],["merged",{"2":{"43":1}}],["multi",{"0":{"10":1},"2":{"10":1,"11":1,"44":2}}],["multiple",{"0":{"9":1},"1":{"10":1,"11":1},"2":{"3":2,"44":1}}],["must",{"2":{"2":1,"13":1,"26":1,"37":1,"49":1}}],["fetch",{"2":{"56":1}}],["fetching",{"0":{"56":1}}],["features",{"0":{"53":1}}],["feasible",{"2":{"36":1}}],["f2",{"2":{"52":3}}],["fba",{"2":{"44":1}}],["flake",{"2":{"52":1}}],["flags",{"2":{"22":2,"33":1,"44":2}}],["flow",{"2":{"39":1}}],["freeing",{"2":{"50":1}}],["frees",{"2":{"2":1}}],["from",{"2":{"16":1,"17":1,"39":1,"41":1,"43":1,"44":4,"57":1}}],["fs",{"2":{"15":1,"16":1,"17":1,"22":3,"23":1,"24":1,"28":2,"29":1,"30":2,"31":1,"52":2}}],["fsync",{"0":{"15":1},"2":{"3":1}}],["full",{"2":{"44":1}}],["future",{"2":{"14":1}}],["functions",{"2":{"7":1,"43":1,"44":1,"49":1}}],["function",{"2":{"5":1,"39":2,"44":1,"49":1}}],["f",{"2":{"8":1,"10":2,"11":2,"52":3}}],["fixedbufferallocator",{"2":{"44":1}}],["final",{"2":{"44":1}}],["finishes",{"2":{"26":2,"36":1}}],["find",{"2":{"11":1}}],["first",{"2":{"14":1}}],["file",{"2":{"8":1,"10":2,"11":2,"15":3,"16":3,"17":3,"22":5,"23":3,"29":1,"52":2,"57":1}}],["fields",{"0":{"14":1},"2":{"14":1}}],["field",{"2":{"5":1,"10":1,"11":1}}],["following",{"2":{"7":1,"39":2,"40":1,"50":2,"51":1,"56":1,"57":1}}],["for",{"2":{"2":1,"4":1,"5":2,"7":1,"9":1,"32":1,"43":2,"48":1,"50":1,"52":1,"53":1,"57":3}}],["fn",{"2":{"5":1,"37":2,"44":3,"52":1}}],["false",{"2":{"14":1,"44":2}}],["fail",{"2":{"11":2}}],["failure",{"2":{"10":2,"14":3}}],["failed",{"2":{"8":1,"10":1,"11":3,"14":1}}],["fails",{"2":{"3":1}}],["fashion",{"2":{"4":1}}],["dumped",{"2":{"49":1}}],["dude",{"2":{"44":1}}],["during",{"2":{"2":2,"43":1}}],["do",{"2":{"47":1}}],["don",{"2":{"44":1}}],["doing",{"2":{"40":1,"44":1,"50":2}}],["domain",{"2":{"33":1,"44":2}}],["died",{"2":{"51":1}}],["directory",{"2":{"29":1,"30":2,"56":1}}],["dir",{"2":{"22":3,"24":3,"28":6,"29":3,"30":4,"31":3}}],["disk",{"2":{"15":1}}],["dependency",{"0":{"56":1},"2":{"57":2}}],["dead",{"2":{"51":1}}],["delayed",{"2":{"50":2}}],["delete",{"2":{"29":1}}],["destruction",{"2":{"48":1}}],["destroyed",{"2":{"37":1}}],["debug",{"2":{"44":5}}],["default",{"2":{"30":1}}],["defined",{"2":{"11":1}}],["defer",{"2":{"2":1,"37":2,"44":2,"48":1,"52":2}}],["deinit",{"2":{"2":3,"37":2,"44":2,"48":1,"50":1}}],["dynamic",{"0":{"1":1,"2":1},"1":{"2":1,"3":1,"4":1,"5":1},"2":{"1":1,"2":2,"4":1,"5":1,"43":1}}],["b",{"2":{"57":1}}],["break",{"2":{"44":1}}],["bind",{"2":{"44":1}}],["back",{"2":{"51":1}}],["backend",{"2":{"43":1}}],["backends",{"2":{"43":1}}],["batching",{"2":{"9":1}}],["bool",{"2":{"14":1}}],["bound",{"2":{"2":1}}],["build",{"2":{"52":1,"57":2}}],["buf2",{"2":{"52":3}}],["buf",{"2":{"44":10,"52":3}}],["buffer",{"2":{"8":1,"10":4,"11":4,"16":2,"17":2,"20":1,"21":1,"44":8,"52":2}}],["but",{"2":{"11":1,"44":1}}],["bye",{"2":{"44":1}}],["bytes",{"2":{"16":1,"17":1}}],["by",{"2":{"5":1,"11":1,"16":1,"17":1,"22":2,"27":1,"40":3,"49":2,"51":1}}],["block",{"2":{"39":1}}],["blocks",{"2":{"4":2,"8":1,"10":1,"51":1}}],["blockingcode",{"2":{"37":2}}],["blocking",{"0":{"36":1},"1":{"37":1},"2":{"4":5,"7":1,"36":2,"40":1,"47":2,"51":1,"53":1}}],["below",{"2":{"44":1}}],["beneficial",{"2":{"43":1}}],["between",{"2":{"39":1}}],["being",{"2":{"39":1,"40":1}}],["before",{"2":{"26":3,"37":1}}],["been",{"2":{"13":1}}],["be",{"2":{"1":1,"2":1,"3":1,"10":1,"11":1,"14":6,"26":2,"37":1,"41":1,"43":1,"44":1,"45":1,"49":3,"50":4}}],["uring",{"2":{"43":1,"52":1,"53":1}}],["updating",{"0":{"56":1}}],["up",{"2":{"41":1}}],["upper",{"2":{"2":1}}],["u32",{"2":{"30":1,"33":3,"37":1}}],["u64",{"2":{"16":1,"17":1}}],["unmanaged",{"2":{"49":1}}],["unpaired",{"0":{"41":1}}],["unlinkat",{"0":{"29":1}}],["undefined",{"2":{"10":2,"11":4,"44":7,"52":2}}],["until",{"2":{"4":2,"8":1,"10":2,"13":1,"14":1,"36":1,"39":1,"49":1,"51":2}}],["u8",{"2":{"10":1,"11":1,"16":1,"17":1,"20":1,"21":1,"22":1,"28":2,"29":1,"30":1,"31":2,"44":5,"52":2}}],["usize",{"2":{"10":1,"11":1,"14":1,"16":1,"17":1,"20":1,"21":1,"44":3,"52":2}}],["using",{"0":{"10":1,"11":1,"57":1,"58":1},"2":{"40":1,"44":1,"49":1,"50":1}}],["useful",{"2":{"41":1}}],["uses",{"2":{"25":1,"48":1}}],["userdata",{"2":{"14":2}}],["use",{"2":{"4":1,"36":1,"39":1,"43":1,"44":1,"45":1,"51":1}}],["used",{"2":{"1":1,"2":2,"5":1,"10":1,"14":3,"44":1,"49":1}}],["uop",{"2":{"5":2}}],["cwd",{"2":{"52":2}}],["c",{"2":{"44":2}}],["client",{"2":{"44":16}}],["cloudef",{"2":{"56":1}}],["cloexec",{"2":{"44":2}}],["clock",{"2":{"25":1}}],["close",{"2":{"52":2}}],["closedir",{"0":{"24":1}}],["closesocket",{"0":{"34":1},"2":{"44":2}}],["closes",{"2":{"23":1,"24":1,"34":1}}],["closefile",{"0":{"23":1}}],["currently",{"2":{"39":1,"40":2,"41":1,"45":2,"50":2}}],["current",{"2":{"39":1,"51":1}}],["customized",{"2":{"22":1}}],["child",{"2":{"32":4}}],["childexit",{"0":{"32":1}}],["chain",{"2":{"10":1,"14":1}}],["creation",{"2":{"48":1}}],["creating",{"2":{"2":1}}],["create",{"2":{"30":1,"31":1}}],["coding",{"2":{"47":1}}],["code",{"0":{"36":1,"58":1},"1":{"37":1},"2":{"36":2,"43":1,"49":1}}],["cool",{"2":{"44":2}}],["cooperative",{"2":{"43":1}}],["collects",{"2":{"32":1}}],["com",{"2":{"56":1}}],["command",{"2":{"56":1}}],["common",{"0":{"14":1},"2":{"14":1}}],["comes",{"2":{"53":1}}],["completions",{"2":{"5":1}}],["completionresult",{"2":{"4":1}}],["completition",{"0":{"5":1},"2":{"43":1}}],["completing",{"0":{"4":1}}],["completeall",{"2":{"4":2}}],["completes",{"2":{"4":1,"8":1,"10":1,"25":1,"51":1}}],["complete",{"0":{"11":1},"2":{"4":7,"8":1,"10":2,"11":4,"52":1}}],["completed",{"2":{"2":1,"4":2,"13":1,"14":1,"51":1}}],["coroutine",{"2":{"52":1}}],["coroutines",{"2":{"47":3,"53":1,"57":1}}],["coro",{"0":{"35":1,"38":1,"42":1,"46":1},"1":{"36":1,"37":1,"39":1,"40":1,"41":1,"43":1,"44":1,"45":1,"47":1,"48":1,"49":1,"50":1,"51":1},"2":{"5":1,"36":2,"39":2,"40":1,"41":1,"43":2,"44":21,"48":1,"49":1,"57":2,"58":2}}],["connect",{"0":{"19":1},"2":{"19":1,"44":1}}],["control",{"2":{"39":1}}],["continue",{"2":{"39":1}}],["context",{"0":{"39":1},"2":{"14":1,"47":1,"51":1}}],["contents",{"2":{"8":1,"10":1,"11":1,"15":1,"17":1}}],["containing",{"2":{"4":1}}],["const",{"2":{"2":1,"4":3,"11":1,"17":1,"21":1,"22":1,"28":2,"29":1,"30":1,"31":2,"37":1,"44":11,"52":4,"57":1,"58":2}}],["care",{"2":{"44":1}}],["called",{"2":{"49":1}}],["caller",{"2":{"39":1}}],["calling",{"2":{"43":1,"44":1}}],["callbacks",{"2":{"5":1}}],["callback",{"0":{"5":1},"2":{"5":1}}],["call",{"2":{"3":2,"4":1,"8":1,"11":1,"39":1,"40":1,"44":1,"45":1,"50":1}}],["cancellation",{"2":{"53":1}}],["cancellations",{"0":{"45":1}}],["cancels",{"2":{"45":1}}],["canceling",{"0":{"40":1},"2":{"50":1}}],["cancel",{"0":{"27":1},"2":{"27":1,"40":3,"45":2}}],["canceled",{"2":{"26":2,"50":2}}],["can",{"2":{"1":1,"10":1,"14":3,"30":1,"49":2,"51":1}}],["case",{"2":{"1":1,"11":1,"14":1,"41":1,"50":2,"51":1}}],["tuple",{"2":{"49":1}}],["type",{"2":{"49":1}}],["tcp",{"2":{"44":2}}],["true",{"2":{"44":3}}],["try",{"2":{"2":1,"3":2,"4":3,"8":1,"10":1,"11":1,"37":6,"44":17,"48":1,"49":1,"51":3,"52":3}}],["tied",{"2":{"53":1}}],["tightly",{"2":{"53":1}}],["tick",{"2":{"43":1,"51":4}}],["timeouts",{"2":{"53":1}}],["timeout",{"0":{"25":1},"2":{"3":1,"25":3,"26":4}}],["time",{"2":{"1":1,"37":2,"51":1}}],["tests",{"2":{"57":1}}],["testing",{"2":{"37":3}}],["term",{"2":{"32":2}}],["takes",{"2":{"39":1,"49":1}}],["task",{"2":{"37":2,"39":8,"40":3,"41":3,"43":3,"44":6,"45":4,"48":1,"49":5,"50":4}}],["tasks",{"0":{"49":1,"50":1},"2":{"5":1,"36":1,"39":1,"43":1,"47":1,"50":3,"51":5,"52":1}}],["target",{"2":{"31":2,"39":1}}],["two",{"2":{"9":1}}],["tobytes",{"2":{"44":2}}],["to",{"2":{"3":2,"4":4,"5":3,"10":3,"11":3,"14":6,"22":1,"26":2,"28":2,"29":1,"30":1,"31":2,"32":1,"36":4,"39":7,"40":2,"41":2,"43":4,"44":6,"45":2,"47":2,"49":3,"50":1,"51":2,"58":1}}],["third",{"2":{"39":2,"49":1}}],["this",{"2":{"4":1,"5":1,"10":1,"14":3,"39":1,"41":1,"43":1,"47":1,"58":1}}],["thread",{"2":{"36":1,"49":1}}],["threadpool",{"2":{"36":1,"37":2}}],["that",{"2":{"2":1,"4":2,"14":3,"36":2,"39":1,"44":2,"45":1,"47":1,"50":1,"51":1}}],["their",{"2":{"51":1}}],["they",{"2":{"51":1}}],["these",{"2":{"14":1}}],["there",{"2":{"8":1,"10":1,"14":1,"51":1}}],["then",{"2":{"5":1,"14":1,"26":2,"39":1,"40":1,"43":1,"44":1,"45":1,"49":1,"51":1}}],["the",{"0":{"56":1},"2":{"1":2,"2":3,"3":4,"4":9,"5":2,"7":2,"8":3,"10":6,"11":5,"13":2,"14":11,"15":2,"16":2,"17":2,"22":2,"25":3,"26":7,"30":3,"31":1,"36":1,"39":16,"40":4,"41":2,"43":11,"44":7,"45":2,"47":3,"48":2,"49":11,"50":8,"51":7,"56":1,"57":2,"58":1}}],["t",{"2":{"1":1,"10":1,"14":1,"18":3,"19":2,"20":1,"21":1,"33":1,"34":1,"39":1,"40":1,"44":4}}],["x27",{"2":{"1":1,"8":1,"10":1,"14":1,"36":1,"39":1,"40":2,"41":1,"44":2,"45":1,"49":2,"58":1}}],["overview",{"0":{"52":1},"1":{"53":1}}],["ok",{"2":{"44":1}}],["other",{"2":{"43":1}}],["optional",{"2":{"48":1,"49":1}}],["options",{"2":{"44":6}}],["ops",{"2":{"44":1}}],["op",{"2":{"39":1,"40":1}}],["operating",{"2":{"30":1}}],["operationcanceled",{"2":{"45":1}}],["operation",{"0":{"8":1},"2":{"3":1,"4":2,"8":3,"10":7,"11":1,"13":1,"14":11,"25":1,"26":5,"27":1,"43":1,"45":2,"49":1}}],["operations",{"0":{"3":1,"4":1,"9":1,"13":1,"44":1},"1":{"10":1,"11":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"2":{"1":1,"2":3,"3":3,"4":5,"5":1,"9":1,"10":3,"11":2,"13":2,"14":4,"40":2,"43":3,"44":1,"45":1,"50":3,"51":2,"53":1}}],["openfile",{"2":{"52":2}}],["openflags",{"2":{"22":1}}],["opened",{"2":{"22":1}}],["opening",{"2":{"22":1}}],["opens",{"2":{"22":1}}],["openat",{"0":{"22":1}}],["old",{"2":{"28":4}}],["outside",{"2":{"44":1}}],["out",{"2":{"10":1,"11":6,"14":4,"16":2,"17":2,"18":1,"20":1,"21":1,"22":2,"32":1,"33":1,"44":6,"45":1,"52":2}}],["occured",{"2":{"4":1,"11":1}}],["on",{"2":{"30":1,"36":1,"43":1,"45":1}}],["once",{"2":{"25":1,"44":1}}],["onto",{"2":{"15":1}}],["one",{"2":{"4":1,"43":1,"49":1,"51":2}}],["only",{"2":{"2":1}}],["or",{"2":{"3":1,"4":1,"14":1,"26":1,"29":1,"39":1,"45":1,"49":3}}],["offset",{"2":{"16":2,"17":2}}],["of",{"2":{"1":2,"3":1,"4":3,"5":2,"8":1,"10":2,"11":4,"13":1,"14":2,"15":1,"16":1,"17":2,"30":1,"36":1,"39":1,"44":1,"45":1,"47":2,"49":3,"51":1}}],["i",{"2":{"44":2}}],["ipproto",{"2":{"33":1,"44":2}}],["i128",{"2":{"25":1,"26":1}}],["id",{"2":{"14":5,"27":3,"32":1}}],["imperative",{"2":{"47":1}}],["import",{"2":{"44":3,"52":2,"58":3}}],["implementation",{"2":{"11":1}}],["immediately",{"2":{"4":2,"10":1,"14":1,"49":1,"51":1}}],["immediate",{"0":{"7":1},"1":{"8":1,"9":1,"10":1,"11":1},"2":{"3":1,"7":1,"52":1}}],["if",{"2":{"3":1,"4":2,"5":1,"8":2,"10":2,"11":3,"14":3,"26":2,"39":4,"40":1,"44":3,"49":1,"51":1}}],["issue",{"2":{"39":1}}],["is",{"2":{"3":2,"4":1,"5":2,"10":1,"11":1,"14":3,"16":1,"17":1,"22":2,"36":1,"39":3,"40":2,"41":1,"43":1,"44":5,"49":3,"50":1,"57":1}}],["isn",{"2":{"1":1,"39":1,"40":1}}],["its",{"2":{"32":1,"41":1,"50":1}}],["it",{"2":{"3":1,"4":1,"5":1,"8":1,"11":1,"14":1,"36":3,"39":1,"40":2,"41":1,"43":1,"45":1,"48":1,"49":1,"58":1}}],["info",{"2":{"52":3}}],["indexof",{"2":{"44":1}}],["inet",{"2":{"44":2}}],["inside",{"2":{"43":2}}],["instead",{"2":{"11":1,"39":1,"44":1}}],["instance",{"0":{"2":1,"48":1},"2":{"2":2,"4":1,"43":1}}],["inout",{"2":{"18":1}}],["integrating",{"0":{"54":1},"1":{"55":1,"56":1,"57":1,"58":1}}],["internal",{"2":{"43":1}}],["interpreted",{"2":{"14":1}}],["int",{"2":{"44":2}}],["into",{"2":{"5":1,"14":3,"16":1,"17":1,"22":1,"28":1,"43":1,"53":1}}],["initoptions",{"2":{"48":1}}],["initip4",{"2":{"44":2}}],["initializing",{"0":{"2":1,"48":1}}],["init",{"2":{"2":3,"37":1,"44":2,"48":1}}],["in",{"0":{"57":1,"58":1},"2":{"1":1,"2":2,"4":1,"7":1,"10":1,"11":2,"13":1,"14":4,"16":1,"17":1,"29":1,"36":1,"39":1,"41":1,"43":1,"45":1,"47":1,"49":1,"50":2,"51":1,"56":1,"57":1}}],["io",{"0":{"1":1,"7":1,"40":1,"43":1,"44":1},"1":{"2":1,"3":1,"4":1,"5":1,"8":1,"9":1,"10":1,"11":1,"44":1,"45":1},"2":{"1":1,"5":1,"7":1,"9":1,"13":1,"40":3,"43":8,"44":12,"45":1,"47":1,"49":2,"50":5,"51":4,"52":2,"53":1}}],["addimport",{"2":{"57":2}}],["add",{"2":{"57":1}}],["addrlen",{"2":{"18":1,"19":1,"44":1}}],["addr",{"2":{"18":1,"19":1,"44":1}}],["address",{"2":{"14":3,"44":8}}],["aka",{"2":{"51":1}}],["able",{"2":{"41":1}}],["af",{"2":{"33":1,"44":2}}],["after",{"2":{"14":1}}],["actively",{"2":{"50":2}}],["actually",{"2":{"3":1}}],["accept",{"0":{"18":1},"2":{"18":1,"44":1}}],["application",{"2":{"14":1}}],["api",{"0":{"0":1,"6":1,"12":1,"35":1,"38":1,"42":1,"46":1},"1":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"36":1,"37":1,"39":1,"40":1,"41":1,"43":1,"44":1,"45":1,"47":1,"48":1,"49":1,"50":1,"51":1},"2":{"1":1,"3":1,"44":2,"52":1,"53":1,"57":1}}],["args",{"2":{"49":1}}],["argument",{"2":{"39":1}}],["arguments",{"2":{"13":1,"49":1}}],["are",{"2":{"4":1,"5":1,"13":1,"14":1,"43":1,"44":1,"50":1,"51":1}}],["asynchronous",{"2":{"52":1,"53":1}}],["as",{"2":{"11":1,"39":2,"44":2,"45":1,"47":1,"49":1}}],["amp",{"2":{"10":2,"11":4,"37":1,"44":14,"52":4}}],["amount",{"2":{"1":1,"16":1,"17":1}}],["alternatively",{"2":{"45":1,"50":1}}],["also",{"2":{"40":1,"45":1,"50":1}}],["allows",{"2":{"43":1}}],["allowing",{"2":{"43":1}}],["allow",{"2":{"36":1}}],["allocated",{"2":{"49":1}}],["allocates",{"2":{"2":1}}],["allocator",{"2":{"2":4,"37":2,"44":1,"48":3}}],["all",{"2":{"4":2,"13":1,"40":1,"43":3,"45":1,"50":3,"51":1}}],["always",{"2":{"4":1,"37":1}}],["at",{"2":{"4":2,"30":1,"31":1,"44":1,"51":1}}],["atomic",{"2":{"3":1,"53":1}}],["any",{"2":{"4":1,"10":1,"11":1,"14":1,"41":1,"44":2}}],["and",{"0":{"56":1},"2":{"2":2,"4":2,"10":1,"14":1,"32":1,"43":1,"47":1,"48":3,"49":2,"50":1,"51":2,"52":1,"53":2}}],["an",{"2":{"2":1,"48":1}}],["a",{"0":{"8":1},"2":{"2":1,"5":1,"8":1,"10":1,"13":1,"14":1,"15":1,"16":3,"17":1,"22":1,"23":1,"24":1,"25":2,"26":1,"28":1,"29":1,"31":1,"32":1,"34":1,"36":1,"39":4,"40":1,"43":4,"44":2,"45":1,"47":3,"49":8,"50":1,"51":1,"53":1}}],["ahead",{"2":{"1":1}}],["aio",{"0":{"0":1,"6":1,"12":1,"54":1,"56":1,"57":1,"58":1},"1":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"55":1,"56":1,"57":1,"58":1},"2":{"3":4,"4":1,"5":1,"7":2,"8":2,"9":1,"10":3,"11":3,"40":1,"43":1,"44":21,"45":1,"52":7,"56":1,"57":8,"58":2}}]],"serializationVersion":2}
